{% if page.author_profile or layout.author_profile or page.sidebar %}
  <div class="sidebar sticky">
  {% if page.author_profile or layout.author_profile %}{% include author-profile.html %}{% endif %}
  
  <!-- Visitor Map Widget -->
  <div class="visitor-map" style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
    <h3 style="font-size: 1.1em; margin-bottom: 15px; text-align: center;">üåç Visitors Around the World</h3>
    
    <div style="text-align: center;">
      <!-- 
        IMPORTANT: To activate the visitor map:
        1. Go to https://clustrmaps.com
        2. Enter your site: muhua-h.github.io  
        3. Click "Get Map Widget" (free)
        4. Choose your preferred map style
        5. Replace this comment with the code they provide
        
        The code will look something like:
        <script type='text/javascript' id='clustrmaps' src='//cdn.clustrmaps.com/map_v2.js?...'></script>
      -->
      
      <!-- Temporary placeholder - Replace with actual widget code -->
      <div style="padding: 40px 20px; background: #fff; border: 2px dashed #ddd; border-radius: 8px;">
        <p style="color: #666; font-size: 0.9em; margin: 0;">
          üìç Visitor map will appear here<br>
          <small>Get your free widget at clustrmaps.com</small>
        </p>
      </div>
    </div>
  </div>
  
  {% if page.sidebar %}
    {% for s in page.sidebar %}
      {% if s.image %}
        <img src= "{{ s.image }}" alt="{% if s.image_alt %}{{ s.image_alt }}{% endif %}">
      {% endif %}
      {% if s.title %}<h3>{{ s.title }}</h3>{% endif %}
      {% if s.text %}{{ s.text | markdownify }}{% endif %}
    {% endfor %}
  {% endif %}
  </div>
{% endif %}